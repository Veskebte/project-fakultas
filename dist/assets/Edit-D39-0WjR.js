import{u as j,a as v,r as e,j as t}from"./index-CXFHqG3B.js";import{a as l}from"./axios-CCb-kr4I.js";import"./sweetalert2.esm.all-DOYwHpwi.js";function E(){const{id:s}=j(),p=v(),[r,i]=e.useState(""),[n,o]=e.useState(""),[m,h]=e.useState([]),[c,u]=e.useState(null);e.useEffect(()=>{l.get(`https://project-apiif-3-b.vercel.app/api/api/prodi/${s}`).then(a=>{i(a.data.result.nama),o(a.data.result.fakultas.id)}).catch(a=>{console.error("Error fetching data: ",a),u("Data tidak ditemukan")}),l.get("https://project-apiif-3-b.vercel.app/api/api/fakultas",{nama:r}).then(a=>{h(a.data.result)}).catch(a=>{console.error("Error fetching fakultas data:",a)})},[s]);const f=a=>{i(a.target.value)},x=a=>{o(a.target.value)},g=a=>{a.preventDefault(),l.patch(`https://project-apiif-3-b.vercel.app/api/api/prodi/${s}`,{nama:r,fakultas_id:n}).then(d=>{p("/prodi")}).catch(d=>{console.error("Error updating data:",d),u("Gagal mengupdate data")})};return t.jsxs("div",{children:[t.jsx("h2",{children:"Edit Program Studi"}),c&&t.jsx("p",{className:"text-danger",children:c}),t.jsxs("form",{onSubmit:g,children:[t.jsxs("div",{className:"mb-3",children:[t.jsx("label",{htmlFor:"nama",className:"form-label",children:"Nama Program Studi"}),t.jsx("input",{type:"text",className:"form-control",id:"nama",value:r,onChange:f,required:!0})]}),t.jsxs("div",{className:"mb-3",children:[t.jsx("label",{htmlFor:"fakultas",className:"form-label",children:"Nama Fakultas"}),t.jsxs("select",{className:"form-select",id:"faultas",value:n,onChange:x,required:!0,children:[t.jsx("option",{value:"",children:"Pilih Fakultas"}),m.map(a=>t.jsx("option",{value:a.id,children:a.nama},a.id))]})]}),t.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})}export{E as default};
