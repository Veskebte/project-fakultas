import{r as t,j as a}from"./index-CXFHqG3B.js";import{a as u}from"./axios-CCb-kr4I.js";function b(){const[i,c]=t.useState(""),[l,n]=t.useState(""),[p,h]=t.useState([]),[o,s]=t.useState(""),[d,m]=t.useState("");t.useEffect(()=>{(async()=>{try{const r=await u.get("https://project-apiif-3-b.vercel.app/api/api/fakultas");h(r.data.result)}catch{s("Failed to fetch fakultas")}})()},[]);const f=async e=>{if(e.preventDefault(),s(""),m(""),i.trim()===""||l.trim()===""){s("Nama fakultas dan nama prodi harus diisi");return}try{(await u.post("https://project-apiif-3-b.vercel.app/api/api/prodi",{nama:i,fakultas_id:l})).status===201?(m("Berhasil menyimpan data Prodi"),c(""),n("")):s("Failed to create Prodi")}catch{s("An error occurred while creating Prodi")}};return a.jsxs("div",{className:"container mt-5",children:[a.jsx("h2",{className:"mb-4",children:"Create Prodi"}),o&&a.jsx("div",{className:"alert alert-danger",children:o}),d&&a.jsx("div",{className:"alert alert-success",children:d}),a.jsxs("form",{onSubmit:f,children:[a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"namaProdi",className:"form-label",children:"Nama Prodi"}),a.jsx("input",{type:"text",className:"form-control",id:"namaProdi",value:i,onChange:e=>c(e.target.value),placeholder:"Masukkan Nama Prodi"})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"fakultasId",className:"from-label",children:"Fakultas"}),a.jsxs("select",{name:"from-select",id:"fakultasId",value:l,onChange:e=>n(e.target.value),children:[a.jsx("option",{value:"",children:"Select Fakultas"}),p.map(e=>a.jsx("option",{value:e.id,children:e.nama},e.id))]})]}),a.jsx("button",{type:"submit",className:"btn btn-primary",children:"Create"})]})]})}export{b as default};
