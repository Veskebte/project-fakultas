import{r as n,j as e,N as o}from"./index-CXFHqG3B.js";import{a as l}from"./axios-CCb-kr4I.js";import{S as i}from"./sweetalert2.esm.all-DOYwHpwi.js";function x(){const[s,a]=n.useState([]);n.useEffect(()=>{l.get("https://project-apiif-3-b.vercel.app/api/api/prodi").then(t=>{a(t.data.result)}).catch(t=>{console.log("Error",t)})},[]);const d=(t,c)=>{i.fire({title:"Are you sure?",text:`You won't be able to revert this! Program Studi: ${c}`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(h=>{h.isConfirmed&&l.delete(`https://project-apiif-3-b.vercel.app/api/api/prodi/${t}`).then(()=>{a(s.filter(r=>r.id!==t)),i.fire("Deleted!","Your data has been deleted.","success")}).catch(r=>{console.error("Error deleting data:",r),i.fire("Error","There was an issue deleting the data.","error")})})};return e.jsxs(e.Fragment,{children:[e.jsx("h2",{children:"List Prodi"}),e.jsx(o,{to:"/prodi/create",className:"btn btn-primary my-4",children:"Create"}),e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Nama Prodi"}),e.jsx("th",{children:"Nama Fakultas"}),e.jsx("th",{children:"#"})]})}),e.jsx("tbody",{children:s.map(t=>e.jsxs("tr",{children:[e.jsx("td",{children:t.nama}),e.jsx("td",{children:t.fakultas.nama}),e.jsx("td",{children:e.jsxs("div",{className:"btn-group",role:"group","aria-label":"Action buttons",children:[e.jsx(o,{to:`/prodi/edit/${t.id}`,className:"btn btn-warning",children:"Edit"}),e.jsx("button",{onClick:()=>d(t.id,t.nama),className:"btn btn-danger",children:"Delete"})]})})]},t.id))})]})]})}export{x as default};
